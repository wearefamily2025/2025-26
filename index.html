 // Admin form submission
            adminForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const memberId = memberSelect.value;
                const type = document.getElementById('transactionType').value;
                const amount = parseFloat(document.getElementById('transactionAmount').value);
                const date = document.getElementById('transactionDate').value;
                const description = document.getElementById('transactionDescription').value;
                
                if (!memberId || !amount || !date || !description) {
                    showNotification('Please fill all fields');
                    return;
                }
                
                try {
                    // Add transaction to Firestore
                    await db.collection('transactions').add({
                        memberId,
                        date,
                        description,
                        amount,
                        type,
                        status: 'completed',
                        recordedBy: currentUser.id,
                        timestamp: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    
                    // Update member's balance
                    const member = allMembers.find(m => m.id === memberId);
                    if (member) {
                        const newBalance = type === 'contribution' 
                            ? (member.balance || 0) + amount 
                            : (member.balance || 0) - amount;
                        
                        await db.collection('members').doc(memberId).update({
                            balance: newBalance
                        });
                    }
                    
                    adminForm.reset();
                    document.getElementById('transactionDate').valueAsDate = new Date();
                    showNotification('Transaction recorded successfully');
                } catch (error) {
                    console.error("Error recording transaction:", error);
                    showNotification('Error recording transaction');
                }
            });
